<!DOCTYPE html>
<html lang="en">
  <script src="JS/AngularJS1.6.9/angular.js"></script>
  <script src="JS/angular-sanitize.js"></script>

  <head>
    <title>View Report - BART</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no"
    />
    <meta name="description" content="Great Tool to track test results" />
    <link rel="stylesheet" type="text/css" href="./CSS/acrt_styles.css" />
  </head>

  <body ng-app="acrt" ng-controller="acrtFormCtrl">
    <a href="#helpID" id="skipID" class="skip" autofocus
      >Skip to Main Content
    </a>
    <div>
      <img
        hidden
        src="./Resources/acrt-logo-lrg.png"
        alt="ACRT logo"
        title="ACRT Logo"
        style="width: 10em; margin-bottom: -7px"
      />
      <strong
        style="font-size: 1.5em; display: inline-block; margin-bottom: 7px"
        title="Baseline Alignment Reporting Tool (ACRT)"
      >
        Baseline Alignment Reporting Tool (BART)
      </strong>
    </div>
    <div class="topnav" id="myTopnav">
      <a title="Home" href="./index.html" id="homeID" class="menu">Home </a>
      <a
        title="Instructions"
        href="./Instruction.html"
        class="menu"
        id="defaultFocus"
        >Instructions
      </a>
      <a
        title="Create Report"
        href="./ACRT_Web_Input_Form.html"
        id="crtReportID"
        class="menu"
        >Create Report</a
      >
      <a
        title="View Report"
        href="./ACRT_View_webReport.html"
        id="vwRptId"
        class="menu"
        >View Report</a
      >
      <a title="View License" href="./LICENSE.html" id="licenseID" class="menu">
        View License
      </a>
    </div>

    <br />

    <main style="margin-left: 1em" id="helpID">
      <form id="webTestResult">
        <h1>View {{companyname}} Baseline Alignment Report</h1>
        <!--   To make sure you have the latest version of ACRT, check either 
  <a title="ACRT GitHub Repository" href= "https://github.com/Section508Coordinators/ACRT " target="_blank"   id="helpID"> GitHub </a>  &nbsp;(all users) 
  or <a title="ACRT Bitbucket Repository" href= "https://maestro.dhs.gov/stash/projects/APPDEV/repos/acrt/browse/acrt" target="_blank"   id="bitbucketSrc">BitBucket </a>  &nbsp;(DHS users) before completing the form. 
  <br />
  
  <br />
 -->
        Refer to the
        <a
          title="BART Guide"
          href="#"
          target="_blank"
          style="display: inline-block; color: blue"
          >BART User Guide - TBD</a
        >
        &nbsp;for complete instructions.

        <!-- <span> Based on VPAT® Version 2.4 </span> -->
        <!-- <h1> View Test Report </h1> -->
        <!-- View test report. <a title="View Report instructions" href="./Help_Report.html" target="_blank" id="tstinstrID"> "View Report" instructions </a> -->

        <strong>Tips for using BART: </strong>

        <br />

        <ol>
          <li>
            Use 'Skip to main content' link or keyboard shortcut Alt+M to go to
            main content.
          </li>
          <li>
            This is a read-only page. To create or edit results, select “Create
            Report.”
          </li>
          <li>
            Expand the Test Process and Submitter Information sections to view
            more information.
          </li>
          <li>
            At least one valid test result must be included to view a report.
          </li>
          <li><strong>Use 'Choose File' to select a JSON.</strong></li>
          <li>
            Sample JSONs with test results are available in the Resources
            folder:
            <ul>
              <li>
                The 'BAT Process3.3_aligned.json' has all of the test process
                results align with all Baseline Expected Results.
              </li>
              <li>
                The 'Bat Process3.3_notaligned_testids.json' has some test
                process results that do not align with Baseline Expected
                Results.
              </li>
            </ul>
          </li>
          <li>
            To save printer-friendly HTML report, use Alt+S or "Save" button
            located at bottom of page.
          </li>
          <li>
            Data is saved in JSON format for editing and further analysis. HTML
            report is the printer-friendly version. Keep both for future
            reference.
          </li>
        </ol>

        <span id="selectFileHd" ng-hide="fileInput1">
          <label for="fileinput">
            <strong> Select test results JSON file </strong>
          </label>
          <br />

          <input
            type="file"
            class="input"
            id="fileinput"
            name="Browse to file"
            title="Please select valid file"
            onchange="angular.element(this).scope().fileNameChanged(this)"
            accept=".json"
          />
          <!--ng-click ="fileInput();" -->
        </span>

        <br />

        <br />

        <strong> <span id="selMsg" ng-show="fileInput1"> </span></strong>

        <br />

        <br />

        <label for="loadFile" ng-show="fileInput1">
          <strong> Load selected file</strong>
        </label>
        <br />
        <button
          class="button"
          ng-model="loadbtn"
          ng-show="fileInput1"
          ng-click="loadFile();"
          id="loadFile"
          name="Load Data In this Form"
          ng-model-options="{  updateOn: 'click',  debounce: { 'default': 20, 'blur': 0 }}"
        >
          Load Results
        </button>
        <!-- 
      <br />
      You have selected <strong>{{evalMethod}} </strong> Version <strong class="hdnMsg">{{evalMethodVrsn}}</strong> -->
        <p id="afterDwnloded">
          <img
            id="dwnldConfm"
            ng-src="./Resources/chkMrk.jpg"
            ng-show="dataLoaded"
            width="20"
            height="20"
            alt="Checkmark"
            onerror="this.style.display='none';"
          />
          <span id="msg1"> <strong> </strong></span>
        </p>
        <div ng-show="dataLoaded">
          <fieldset style="margin-left: 1em">
            <legend>
              <h2>Test Process</h2>
            </legend>
            <button
              class="collapsible"
              title="Show Process Section"
              id="productBtn"
              onclick="expandCollapse1()"
            >
              <div id="expandCollapse1">
                <i class="up"></i> Show Process Section
              </div>
            </button>
            <div class="content">
              <div class="divSpace" id="productInfo">
                <label for="productID"> Process Name: </label>
                <br />
                <input
                  type="string"
                  ng-model="productID"
                  class="betnTags"
                  id="productID"
                  name="Entered Name Of Product"
                  ng-readonly="true"
                  size="100"
                />

                <br />
                <label for="versionID"> Process Version: </label>
                <br />
                <input
                  type="string"
                  ng-model="ownerID"
                  class="betnTags"
                  id="ownerID"
                  name="Entered Product Version"
                  ng-readonly="true"
                  size="50"
                />
                <!-- 
                <br />
                <label for="ownerID">Product Owner/Vendor: </label> 
                <br />
                <input type="string" ng-model="versionID" class="betnTags" id="versionID" name="Entered Product Owner/Vendor" ng-readonly="true" size="50"> -->

                <br />
                <label for="productType"> Process Type: </label>
                <br />
                <input
                  type="string"
                  ng-model="productType"
                  class="betnTags"
                  id="productType"
                  name="Entered Type Of Product"
                  ng-readonly="true"
                  size="50"
                />

                <br />
                <label for="urlID">Test Process URL: </label>
                <br />
                <input
                  type="string"
                  ng-model="urlID"
                  size="100"
                  class="betnTags"
                  id="urlID"
                  name="Entered Location"
                  ng-readonly="true"
                />

                <br />
                <label for="prodDescID">Process description:</label>
                <br />
                <textarea
                  ng-model="prodDescID"
                  class="betnTags"
                  rows="4"
                  cols="90"
                  id="prodDescID"
                  name="Entered Product Description"
                  ng-readonly="true"
                ></textarea>

                <br />
                <label for="prdNteDescID"> Notes:</label>
                <br />
                <textarea
                  ng-model="prdNteDescID"
                  class="betnTags"
                  id="prdNteDescID"
                  rows="4"
                  cols="90"
                  name="Entered Notes"
                  ng-readonly="true"
                ></textarea>
              </div>
            </div>
          </fieldset>
          <br />

          <fieldset style="margin-left: 1em">
            <legend>
              <h2>Submitter Information</h2>
            </legend>
            <button
              class="collapsible"
              title="Show or Hide Submitter Information Section"
              onclick="expandCollapse3()"
            >
              <div id="expandCollapse3">
                <i class="up"></i> Show Submitter Information Section
              </div>
            </button>
            <div class="content">
              <div class="divSpace">
                <label for="companyname"> Agency Full Name: </label>
                <br />
                <input
                  type="string"
                  ng-model="companyname"
                  class="betnTags"
                  id="companyname"
                  name="Entered Tester's Company Name"
                  size="100"
                  ng-readonly="true"
                />

                <br />
                <label for="firstname">
                  Submitter's First Name:
                  <br />
                </label>
                <input
                  type="string"
                  size="50"
                  ng-model="firstname"
                  class="betnTags"
                  id="firstname"
                  name="Entered Tester's First Name"
                  ng-readonly="true"
                />

                <br />
                <label for="lastname"> Submitter's Last Name: </label>
                <br />
                <input
                  type="string"
                  size="50"
                  ng-model="lastname"
                  class="betnTags"
                  id="lastname"
                  name="Entered Tester's Last Name"
                  ng-readonly="true"
                />

                <br />
                <label for="testerID"> Submitter's Title': </label>
                <br />
                <input
                  type="string"
                  size="100"
                  ng-model="testerID"
                  class="betnTags"
                  id="testerID"
                  name="Entered Tester's ID"
                  ng-readonly="true"
                />

                <br />
                <label for="testerContact"> Submitter's Email: </label>
                <br />
                <input
                  type="string"
                  size="50"
                  ng-model="testerContact"
                  class="betnTags"
                  id="testerContact"
                  name="Entered Tester's Contact"
                  ng-readonly="true"
                />

                <br />
                <label for="testScope"
                  >All alignment results will be shared publicly on
                  Section508.gov. Please describe any concerns.
                </label>
                <br />
                <textarea
                  rows="4"
                  cols="90"
                  type="text"
                  ng-model="testScope"
                  class="betnTags"
                  id="testScope"
                  name="Entered Test Scope"
                  ng-readonly="true"
                ></textarea>
                <br />
              </div>
            </div>
          </fieldset>
          <br />
        </div>

        <br />

        &nbsp;

        <div id="displayTestRslt" hidden>
          <h2>Baseline Alignment Validation Results</h2>

          <div ng-show="displaytstRslt" id="tstRslt">
            <label for="dateSubmitted"> Review Date:</label>
            <input
              type="string"
              ng-model="dateSubmitted"
              class="dateField"
              id="dateSubmitted"
              name="Review Date"
              ng-readonly="true"
            />

            <br />
            <br />

            <div id="alignmentresult"></div>

            <div ng-show="wcagRprt">
              <table class="table" id="th1" style="font-size: 93%">
                <caption>
                  <strong>{{companyname}} Baseline Alignment Report </strong>
                </caption>
                <thead>
                  <tr>
                    <th scope="col" id="item[$index]">
                      <div class="widetd1">Item</div>
                    </th>
                    <th scope="col" id="testcaseid[$index]">
                      <div class="widetd5">Test Case ID</div>
                    </th>
                    <th scope="col" id="desc[$index]">
                      <div class="widetd3">Test Case Description</div>
                    </th>
                    <th scope="col" id="file[$index]">
                      <div class="widetd3">Test File</div>
                    </th>
                    <th scope="col" id="baselineresult[$index]">
                      <div class="widetd3">Expected Baseline Test Result</div>
                    </th>
                    <th scope="col" id="result[$index]">
                      <div class="widetd3">Test Process's Result Entered</div>
                    </th>
                    <th scope="col" id="process[$index]">
                      <div class="widetd3">Test Process ID Entered</div>
                    </th>
                    <th scope="col" id="cmnt[$index]">
                      <div class="widetd3">Tester Comments Entered</div>
                    </th>
                    <th scope="col" id="align[$index]">
                      <div class="widetd3">Alignment Result</div>
                    </th>
                  </tr>
                </thead>

                <tbody ng-repeat="record in jsonData">
                  <tr ng-repeat="test in record.Criteria" ng-if="filterResult1">
                    <th scope="row">
                      <div class="widetd1">{{$index+1}}</div>
                      <!-- ng-if='original' -->
                    </th>
                    <td>
                      <div
                        class="widetd5"
                        id="testID{{$index}}"
                        title="Test Case ID"
                        nowrap
                      >
                        <a href="{{test.TestCaseURL}}" target="testcase"
                          >{{TestID[$index]}}</a
                        >
                      </div>
                    </td>
                    <td>
                      <div class="widetd3" id="testdescription{{$index}}">
                        {{TestName[$index]}}
                      </div>
                    </td>
                    <td>
                      <div class="widetd3" id="testfile{{$index}}">
                        <a href="{{test.TestFileURL}}" target="testfile"
                          >{{test.TestFile}}</a
                        >
                      </div>
                    </td>
                    <td nowrap>
                      <div class="widetd3" id="expected{{$index}}">
                        {{test.ExpectedResult}}
                      </div>
                    </td>
                    <td name="Test Process Result">
                      <div class="widetd3" id="testresult{{$index}}">
                        {{TestResult[$index]}}
                      </div>
                    </td>
                    <td>
                      <div class="widetd3" id="testprocess{{$index}}">
                        {{TestProcess[$index]}}
                      </div>
                    </td>
                    <td>
                      <div class="widetd3" id="testercomment{{$index}}">
                        {{TesterComment[$index]}}
                      </div>
                    </td>
                    <td>
                      <div class="widetd3" id="aligned{{$index}}">
                        {{test.Aligned}}
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </form>
    </main>

    <div
      id="htmlReportDiv"
      class="footerbutton"
      style="margin-left: 1em"
      hidden
    >
      Not working yet: Select <strong>Save as HTML</strong> to generate HTML
      version of the printable report (saved in Downloads folder by default).<br />
      <input
        type="button"
        id="sbtBtn"
        class="button"
        value="Save as HTML (Alt+S) not working yet"
        disabled
        ng-click="saveHtml()"
      />
      <br />
    </div>

    <script src="./JS/acrt_Web_Report.js"></script>

    <script>
      function myFunction() {
        window.print();
      }
    </script>
  </body>
</html>
